# CCGram Full Configuration
# Copy this file to .env and configure with your actual values

# ===== Notification Channels: Email, LINE, or Telegram =====
# You can enable multiple channels simultaneously
EMAIL_ENABLED=false
LINE_ENABLED=false
TELEGRAM_ENABLED=true

# ===== Email Configuration (if using Email) =====
# SMTP outgoing mail configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Sender info (optional, defaults to SMTP_USER)
EMAIL_FROM=your-email@gmail.com
EMAIL_FROM_NAME=CCGram Notifications

# IMAP incoming mail configuration
IMAP_HOST=imap.gmail.com
IMAP_PORT=993
IMAP_SECURE=true
IMAP_USER=your-email@gmail.com
IMAP_PASS=your-app-password

# Email routing configuration
# Email address to receive notifications
EMAIL_TO=your-email@gmail.com

# Email addresses allowed to send commands (security whitelist)
ALLOWED_SENDERS=your-email@gmail.com

# ===== LINE Configuration (if using LINE) =====
# Get from LINE Developers Console: https://developers.line.biz/
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token
LINE_CHANNEL_SECRET=your-line-channel-secret

# LINE recipient configuration (set one or both)
# LINE_USER_ID=your-line-user-id
# LINE_GROUP_ID=your-line-group-id

# LINE whitelist (comma-separated user/group IDs)
# If not set, only the configured USER_ID/GROUP_ID can use the bot
# LINE_WHITELIST=U1234567890abcdef,C1234567890abcdef

# LINE webhook port (default: 3000)
# LINE_WEBHOOK_PORT=3000

# ===== Telegram Configuration (if using Telegram) =====
# Get Bot Token from @BotFather
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# Telegram recipient configuration (set one or both)
# Personal chat ID
# TELEGRAM_CHAT_ID=123456789
# Group ID (usually negative)
# TELEGRAM_GROUP_ID=-1001234567890

# Telegram whitelist (comma-separated Chat IDs)
# If not set, only the configured CHAT_ID/GROUP_ID can use the bot
# TELEGRAM_WHITELIST=123456789,-1001234567890

# Telegram webhook port (default: 3001)
# TELEGRAM_WEBHOOK_PORT=3001

# Telegram webhook URL (your public HTTPS URL)
# TELEGRAM_WEBHOOK_URL=https://your-domain.com

# Force IPv4 for Telegram API connections (default: false)
# In some network environments, IPv6 may be unstable; set to true to force IPv4
# TELEGRAM_FORCE_IPV4=false

# ===== System Configuration =====
# Session map file path
SESSION_MAP_PATH=/path/to/your/project/src/data/session-map.json

# Injection mode: pty or tmux (default: pty, no tmux required)
INJECTION_MODE=pty

# Claude CLI path (optional, defaults to 'claude' from system PATH)
CLAUDE_CLI_PATH=claude

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Whether to log PTY output (for debugging)
PTY_OUTPUT_LOG=false

# ===== Timeout Configuration =====
# Command execution timeout (milliseconds)
COMMAND_TIMEOUT=10000

# SMTP connection timeout (milliseconds)
SMTP_TIMEOUT=10000

# Notification timeout (milliseconds)
NOTIFICATION_TIMEOUT=3000

# Notification display time (milliseconds)
NOTIFICATION_DISPLAY_TIME=10000

# ===== Email Template Configuration =====
# Email check interval (seconds)
CHECK_INTERVAL=20

# Session timeout (hours)
SESSION_TIMEOUT=24

# ===== Test Configuration (optional) =====
# Fixed token for test emails (optional, dynamically generated by default)
TEST_TOKEN=

# Gmail app password (for test scripts, optional)
GMAIL_APP_PASSWORD=

# ===== Gmail Setup Instructions =====
# 1. Enable 2-step verification: https://myaccount.google.com/security
# 2. Generate app password: https://myaccount.google.com/apppasswords
# 3. Enter the 16-character password in SMTP_PASS and IMAP_PASS
# 4. Ensure SMTP_PORT=465 and SMTP_SECURE=true (recommended SSL)

# ===== Other Email Provider Examples =====
# QQ Mail:
# SMTP_HOST=smtp.qq.com
# SMTP_PORT=587 or 465
# IMAP_HOST=imap.qq.com
# IMAP_PORT=993

# 163 Mail:
# SMTP_HOST=smtp.163.com
# SMTP_PORT=587 or 465
# IMAP_HOST=imap.163.com
# IMAP_PORT=993

# Outlook:
# SMTP_HOST=smtp.live.com
# SMTP_PORT=587
# IMAP_HOST=imap-mail.outlook.com
# IMAP_PORT=993

# ===== Health Check Endpoint (optional) =====
# Set a port to enable the HTTP health endpoint at http://127.0.0.1:PORT/health
# Returns JSON with uptime, last poll age, active sessions, and pending prompts
# Returns 200 when healthy, 503 when last poll was >60s ago
# HEALTH_PORT=8080
